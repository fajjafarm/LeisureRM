<?php namespace App\Models; use Illuminate\Database\Eloquent\Model; class SubFacility extends Model { protected $fillable=["name","facility_id","type","check_interval":"check_interval_minutes","check_start_time","check_end_time","target_temp","max_depth","min_depth","length","width","volume","ideal_chlorine","ideal_ph","ideal_calcium","ideal_alkalinity","ideal_tds","max_bather_load"]; protected $casts=["check_start_time"=>"datetime:H:i","check_end_time"=>"datetime:H:i"]; public function facility(){return $this->belongsTo(Facility::class);} public function poolTests(){return $this->hasMany(PoolTest::class);} public function healthChecks(){return $this->hasMany(HealthCheck::class);} public function isPool(){return in_array($this->type,["pool","hot_tub","spa"]);} }
